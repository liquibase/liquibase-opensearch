# This workflow will build the extension against the latest Liquibase artifact
name: "Nightly build"

on:
  workflow_dispatch:
  schedule:
    - cron: '0 7 * * 1-5'

jobs:
  nightly-build:
    uses: liquibase/build-logic/.github/workflows/os-extension-test.yml@main
    with:
      # we support JDK 17, however opensearch-testcontainers used in the tests only supports JDK 21
      javaBuildVersion: '17'
      java: '21'
      runIntegrationTests: true
    secrets: inherit
